'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var builders = require('../../ast/builders.cjs');

function esm (runtimeDependencies, program) {
  program.body.unshift(
    builders.importDeclaration(
      runtimeDependencies.map(([imported, local]) =>
        builders.importSpecifier(builders.identifier(local), builders.identifier(imported)),
      ),
      builders.stringLiteral('nimma/runtime'),
    ),
  );

  program.body[program.body.length - 1] = builders.exportDefaultDeclaration(
    program.body[program.body.length - 1],
  );
  return program;
}

exports.default = esm;
